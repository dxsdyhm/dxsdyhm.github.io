<!DOCTYPE html>
<html>

<!--
<script type="text/javascript">
    var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1;//android终端或者uc浏览器
    var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
    if(isAndroid){
      function android(){
        window.location.href = "sharetest://data/123";
        window.setTimeout(function(){

           window.location.href = "http://www.baidu.com/";
        },2000);
      };

</script>
-->
<!--
<script language="javascript">
 if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {
  alert("in IOS system");
  var loadDateTime = new Date();
  window.setTimeout(function() {
   var timeOutDateTime = new Date();
   if (timeOutDateTime - loadDateTime < 5000) {
    window.location = "sharetest://data/123";
   } else {
    window.close();
   }
  },
  25);
  window.location = "http://www.baidu.com/";
 } else if (navigator.userAgent.match(/android/i)) {
  alert("in android system");
  try {

    window.location("sharetest://data/123")
     alert(state);
  } catch(e) { alert(e.message) }
  if (state) {
   window.close();
  } else {
    alert(state);
   window.location = "http://www.baidu.com/";
  }
 }
</script>
-->

<!--
<script language="javascript">
 if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {
  alert("in IOS system");
  var loadDateTime = new Date();
  window.setTimeout(function() {
   var timeOutDateTime = new Date();
   if (timeOutDateTime - loadDateTime < 5000) {
    window.location = "sharetest://data/123";
   } else {
    window.close();
   }
  },
  25);
  window.location = "http://www.baidu.com/";
 } else if (navigator.userAgent.match(/android/i)) {
    var win = null;

   try {
         window.location.href = 'sharetest://data/123';
       // win = window.open("http://www.baidu.com","_self");
      // win = window.open("sharetest://data/123", '_self');
      alert(win.document);
      alert(win);
    } catch(e) {alert(e.message)}
    if(!win||(win.closed||!win.focus)  || typeof(win.document)=='unknown'  || typeof(win.document)=='undefined'){
       window.location = "http://www.baidu.com/";
    }else {
       alert("3");
       alert(win.status);
    }
  }

</script>
-->

<body>
<!--
<iframe src="sharetest://data/123" style="display:none"></iframe>//这里可以实现跳转到jumpAC
-->

</body>
<script LANGUAGE="JavaScript">
     var jump = function(appurl){
        var g_sSchema = appurl;
        var div, tid, startTime;
        //创建iframe，呼起app schema
        startTime = Date.now(); //标记呼起时间点
        div = document.createElement('div');
        div.style.visibility = 'hidden';
        div.innerHTML = "<iframe src=" + g_sSchema + " scrolling=\"no\" width=\"1\" height=\"1\"></iframe>";
        document.body.appendChild(div);
       <!-- alert(div.innerHTML); -->
        <!--window.open(appurl,"_self");-->
        //如果成功呼起，setTimeout不会立即执行
        window.setTimeout(function(){
               var delta = Date.now() - startTime;
               alert(delta);
               if (delta > 2000) {
                     <!--alert("has not app"+delta);-->
                     window.location = "http://yoosee.co/"
         }else{
                <!--alert("has  app"+delta);-->
         }
        },25);
       }
    function is_weixin() {

		    var ua = navigator.userAgent.toLowerCase();
		    if (ua.match(/MicroMessenger/i) == "micromessenger") {
		        return true;
		    } else {
		        return false;
		    }
		}
		var isWeixin = is_weixin();
	    	var winHeight = typeof window.innerHeight != 'undefined' ? window.innerHeight : document.documentElement.clientHeight;
		function loadHtml(){
			var div = document.createElement('div');
				div.id = 'weixin-tip';
				div.innerHTML = '<p><img src="http://blog.weixiaodeyu.com/static/uploads/2015/03/live_weixin.png" alt="微信打开"/></p>';
				document.body.appendChild(div);
			}
		function loadStyleText(cssText) {
	        var style = document.createElement('style');
	        style.rel = 'stylesheet';
	        style.type = 'text/css';
	        try {
	            style.appendChild(document.createTextNode(cssText));
	        } catch (e) {
	            style.styleSheet.cssText = cssText; //ie9以下
	        }
            var head=document.getElementsByTagName("head")[0]; //head标签之间加上style样式
            head.appendChild(style);
	    }
        var cssText = "#weixin-tip{position: fixed; left:0; top:0; background: rgba(0,0,0,0.8); filter:alpha(opacity=80); width: 100%; height:100%; z-index: 100;} #weixin-tip p{text-align: center; margin-top: 10%; padding:0 5%;}";
	if(isWeixin){
	     	loadHtml();
			loadStyleText(cssText);
	}
	jump('sharetest://data/123');
	
</script>
</html>
